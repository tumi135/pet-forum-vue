(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fc3025b"],{2994:function(t,e,n){"use strict";n("68ef"),n("e3b3"),n("c0c2")},"2bdd":function(t,e,n){"use strict";var i=n("d282");function s(t){var e=window.getComputedStyle(t),n="none"===e.display,i=null===t.offsetParent&&"fixed"!==e.position;return n||i}var r=n("a8c1"),a=n("5fbe"),o=n("543e"),c=Object(i["a"])("list"),u=c[0],h=c[1],l=c[2];e["a"]=u({mixins:[Object(a["a"])((function(t){this.scroller||(this.scroller=Object(r["d"])(this.$el)),t(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick((function(){if(!(t.innerLoading||t.finished||t.error)){var e,n=t.$el,i=t.scroller,r=t.offset,a=t.direction;e=i.getBoundingClientRect?i.getBoundingClientRect():{top:0,bottom:i.innerHeight};var o=e.bottom-e.top;if(!o||s(n))return!1;var c=!1,u=t.$refs.placeholder.getBoundingClientRect();c="up"===a?e.top-u.top<=r:u.bottom-e.bottom<=r,c&&(t.innerLoading=!0,t.$emit("input",!0),t.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading&&!this.finished)return t("div",{class:h("loading"),key:"loading"},[this.slots("loading")||t(o["a"],{attrs:{size:"16"}},[this.loadingText||l("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished){var e=this.slots("finished")||this.finishedText;if(e)return t("div",{class:h("finished-text")},[e])}},genErrorText:function(){var t=this.$createElement;if(this.error){var e=this.slots("error")||this.errorText;if(e)return t("div",{on:{click:this.clickErrorText},class:h("error-text")},[e])}}},render:function(){var t=arguments[0],e=t("div",{ref:"placeholder",class:h("placeholder")});return t("div",{class:h(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():e,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():e])}})},"2fe8":function(t,e,n){},3405:function(t,e,n){"use strict";var i=n("2fe8"),s=n.n(i);s.a},5246:function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("8a0b")},"58e6":function(t,e,n){"use strict";var i=n("d282"),s=n("1325"),r=n("a8c1"),a=n("3875"),o=n("543e"),c=Object(i["a"])("pull-refresh"),u=c[0],h=c[1],l=c[2],d=50,f=["pulling","loosing","success"];e["a"]=u({mixins:[a["a"]],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,value:{type:Boolean,required:!0},successDuration:{type:[Number,String],default:500},animationDuration:{type:[Number,String],default:300},headHeight:{type:[Number,String],default:d}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{touchable:function(){return"loading"!==this.status&&"success"!==this.status&&!this.disabled},headStyle:function(){if(this.headHeight!==d)return{height:this.headHeight+"px"}}},watch:{value:function(t){this.duration=this.animationDuration,t?this.setStatus(+this.headHeight,!0):this.slots("success")||this.successText?this.showSuccessTip():this.setStatus(0,!1)}},mounted:function(){this.bindTouchEvent(this.$refs.track),this.scrollEl=Object(r["d"])(this.$el)},methods:{checkPullStart:function(t){this.ceiling=0===Object(r["c"])(this.scrollEl),this.ceiling&&(this.duration=0,this.touchStart(t))},onTouchStart:function(t){this.touchable&&this.checkPullStart(t)},onTouchMove:function(t){this.touchable&&(this.ceiling||this.checkPullStart(t),this.touchMove(t),this.ceiling&&this.deltaY>=0&&"vertical"===this.direction&&(Object(s["c"])(t),this.setStatus(this.ease(this.deltaY))))},onTouchEnd:function(){var t=this;this.touchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(+this.headHeight,!0),this.$emit("input",!0),this.$nextTick((function(){t.$emit("refresh")}))):this.setStatus(0))},ease:function(t){var e=+this.headHeight;return t>e&&(t=t<2*e?e+(t-e)/2:1.5*e+(t-2*e)/4),Math.round(t)},setStatus:function(t,e){var n;n=e?"loading":0===t?"normal":t<this.headHeight?"pulling":"loosing",this.distance=t,n!==this.status&&(this.status=n)},genStatus:function(){var t=this.$createElement,e=this.status,n=this.distance,i=this.slots(e,{distance:n});if(i)return i;var s=[],r=this[e+"Text"]||l(e);return-1!==f.indexOf(e)&&s.push(t("div",{class:h("text")},[r])),"loading"===e&&s.push(t(o["a"],{attrs:{size:"16"}},[r])),s},showSuccessTip:function(){var t=this;this.status="success",setTimeout((function(){t.setStatus(0)}),this.successDuration)}},render:function(){var t=arguments[0],e={transitionDuration:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""};return t("div",{class:h()},[t("div",{ref:"track",class:h("track"),style:e},[t("div",{class:h("head"),style:this.headStyle},[this.genStatus()]),this.slots()])])}})},"6ab3":function(t,e,n){},"6b41":function(t,e,n){"use strict";var i=n("2638"),s=n.n(i),r=n("d282"),a=n("a142"),o=n("ba31"),c=n("b1d2"),u=n("ad06"),h=Object(r["a"])("nav-bar"),l=h[0],d=h[1];function f(t,e,n,i){var r;function h(){return n.left?n.left():[e.leftArrow&&t(u["a"],{class:d("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:d("text")},[e.leftText])]}function l(){return n.right?n.right():e.rightText?t("span",{class:d("text")},[e.rightText]):void 0}return t("div",s()([{style:{zIndex:e.zIndex},class:[d({fixed:e.fixed}),(r={},r[c["b"]]=e.border,r)]},Object(o["b"])(i)]),[t("div",{class:d("left"),on:{click:i.listeners["click-left"]||a["f"]}},[h()]),t("div",{class:[d("title"),"van-ellipsis"]},[n.title?n.title():e.title]),t("div",{class:d("right"),on:{click:i.listeners["click-right"]||a["f"]}},[l()])])}f.props={title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0}},e["a"]=l(f)},"8a0b":function(t,e,n){},"99af":function(t,e,n){"use strict";var i=n("23e7"),s=n("d039"),r=n("e8b5"),a=n("861d"),o=n("7b0b"),c=n("50c4"),u=n("8418"),h=n("65f0"),l=n("1dde"),d=n("b622"),f=n("2d00"),m=d("isConcatSpreadable"),p=9007199254740991,g="Maximum allowed index exceeded",b=f>=51||!s((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),v=l("concat"),k=function(t){if(!a(t))return!1;var e=t[m];return void 0!==e?!!e:r(t)},x=!b||!v;i({target:"Array",proto:!0,forced:x},{concat:function(t){var e,n,i,s,r,a=o(this),l=h(a,0),d=0;for(e=-1,i=arguments.length;e<i;e++)if(r=-1===e?a:arguments[e],k(r)){if(s=c(r.length),d+s>p)throw TypeError(g);for(n=0;n<s;n++,d++)n in r&&u(l,d,r[n])}else{if(d>=p)throw TypeError(g);u(l,d++,r)}return l.length=d,l}})},ab71:function(t,e,n){"use strict";n("68ef"),n("e3b3"),n("6ab3")},b1d2:function(t,e,n){"use strict";n.d(e,"h",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return h}));var i="#fff",s="van-hairline",r=s+"--top",a=s+"--left",o=s+"--bottom",c=s+"--surround",u=s+"--top-bottom",h=s+"-unset--top-bottom"},c0c2:function(t,e,n){},c6bd:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:"写文章","left-text":"首页","left-arrow":""},on:{"click-left":t.onReturn}}),n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("article",{staticClass:"feedbackTips"},[n("div",{domProps:{innerHTML:t._s(t.feedbackTips.content)}})]),n("p",{staticStyle:{padding:"10px 5px 0px"}},[t._v("回复列表：")]),n("van-list",{staticClass:"list",attrs:{offset:100,finished:t.finished,"immediate-check":!1,"finished-text":"没有更多了"},on:{load:t.initFeedbackComments},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.feedbackComments,(function(e,i){return n("feeback-comment",{key:e.id,attrs:{"feeback-comment-item":e,"reply-name":t.replyName,"comment-show":t.commentOpen,"item-index":i},on:{"update:replyName":function(e){t.replyName=e},"update:reply-name":function(e){t.replyName=e},"update:commentShow":function(e){t.commentOpen=e},"update:comment-show":function(e){t.commentOpen=e}}})})),1)],1),n("write-feeback-comment",{attrs:{"comment-show":t.commentOpen,"reply-name":t.replyName},on:{"update:commentShow":function(e){t.commentOpen=e},"update:comment-show":function(e){t.commentOpen=e}}}),n("button",{staticClass:"open-button",on:{click:t.openWriteFeeback}},[t._v("回复")])],1)},s=[],r=(n("99af"),n("d3b7"),n("ab71"),n("58e6")),a=(n("5246"),n("6b41")),o=(n("2994"),n("2bdd")),c=(n("96cf"),n("1da1")),u={data:function(){return{feedbackTips:{},feedbackComments:[],refreshing:!1,loading:!1,finished:!1,commentOpen:!1,page:1,perpage:5,replyName:""}},created:function(){this.initFeedbackTips(),this.initFeedbackComments()},methods:{initFeedbackTips:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.feedbackTipsFreeQuery().catch((function(t){return console.log(t),n.$message.error("数据获取失败"),""}));case 2:e=t.sent,this.feedbackTips=e.data.list[0]||{content:"<P>无内容</P>"};case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initFeedbackComments:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.feedbackFreeQuery(this.page,this.perpage).catch((function(t){return console.log(t),i.$message.error("数据获取失败"),""}));case 2:e=t.sent,this.refreshing=!1,n=e.data.list||[],n.length<this.perpage&&(this.finished=!0),this.page+=1,this.loading=!1,this.feedbackComments=this.feedbackComments.concat(n);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onRefresh:function(){this.page=1,this.feedbackComments=[],this.loading=!1,this.finished=!1},onReturn:function(){this.$router.push("/")},openWriteFeeback:function(){this.replyName="",this.commentOpen=!0}},components:{"van-list":o["a"],"van-nav-bar":a["a"],"van-pull-refresh":r["a"],"feeback-comment":function(){return Promise.all([n.e("chunk-4d1b3240"),n.e("chunk-68746b31")]).then(n.bind(null,"2b4f"))},"write-feeback-comment":function(){return Promise.all([n.e("chunk-1d0c8120"),n.e("chunk-0b2a5782")]).then(n.bind(null,"e2df"))}}},h=u,l=(n("3405"),n("2877")),d=Object(l["a"])(h,i,s,!1,null,"167c2276",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-1fc3025b.bdcf14fd.js.map