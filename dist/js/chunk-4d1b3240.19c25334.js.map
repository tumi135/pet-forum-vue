{"version":3,"sources":["webpack:///./node_modules/vant/es/image-preview/ImagePreview.js","webpack:///./node_modules/vant/es/image-preview/index.js","webpack:///./node_modules/vant/es/swipe-item/index.js","webpack:///./node_modules/vant/es/image/style/index.js","webpack:///./node_modules/vant/es/image/index.js","webpack:///./node_modules/vant/es/utils/dom/raf.js","webpack:///./node_modules/vant/es/image-preview/style/index.js","webpack:///./node_modules/vant/es/utils/format/number.js","webpack:///./node_modules/vant/es/swipe/index.js"],"names":["_createNamespace","create","createComponent","bem","getDistance","touches","Math","sqrt","pow","clientX","clientY","instance","mixins","skipToggleEvent","props","className","lazyLoad","Boolean","asyncClose","showIndicators","images","type","Array","default","loop","swipeDuration","Number","String","overlay","showIndex","startPosition","minZoom","maxZoom","overlayClass","data","scale","moveX","moveY","active","moving","zooming","doubleClickTimer","computed","imageStyle","this","style","transitionDuration","transform","watch","value","val","_this","setActive","$nextTick","$refs","swipe","swipeTo","immediate","$emit","index","url","shouldRender","handler","_this2","$el","onWrapperTouchStart","onWrapperTouchEnd","methods","touchStartTime","Date","event","_this3","deltaTime","_ref","_ref$offsetX","offsetX","_ref$offsetY","offsetY","clearTimeout","toggleScale","setTimeout","startMove","image","currentTarget","rect","getBoundingClientRect","winWidth","window","innerWidth","winHeight","innerHeight","touchStart","startMoveX","startMoveY","maxMoveX","max","width","maxMoveY","height","startZoom","startScale","startDistance","onImageTouchStart","_ref2","_ref2$offsetX","length","onImageTouchMove","touchMove","deltaX","deltaY","distance","setScale","onImageTouchEnd","stopPropagation","resetScale","genIndex","h","$createElement","slots","genCover","cover","genImages","_this4","imageSlots","loading","map","render","arguments","name","defaultConfig","onClose","onChange","closeOnPopstate","extend","el","document","createElement","body","appendChild","$on","options","isArray","$once","show","$off","install","use","offset","beforeCreate","$parent","swipes","push","destroyed","splice","indexOf","_this$$parent","vertical","computedWidth","computedHeight","$listeners","src","fit","alt","round","radius","showError","showLoading","errorIcon","loadingIcon","error","overflow","borderRadius","created","$Lazyload","onLazyLoaded","onLazyLoadError","beforeDestroy","onLoad","onError","onClick","genPlaceholder","genImage","imgData","class","attrs","objectFit","prev","now","fallback","fn","curr","ms","id","root","global","iRaf","requestAnimationFrame","cancelAnimationFrame","raf","call","doubleRaf","range","num","min","bind","isBind","resize","onVisibilityChange","initialize","clear","autoplay","indicatorColor","duration","touchable","initialSwipe","swiping","_autoplay","autoPlay","count","delta","size","trackSize","activeIndicator","isCorrectDirection","expect","direction","trackStyle","mainAxis","crossAxis","indicatorStyle","backgroundColor","minOffset","mounted","bindTouchEvent","track","timer","forEach","hidden","onTouchStart","correctPosition","onTouchMove","move","onTouchEnd","pace","emitChange","getTargetActive","getTargetOffset","targetActive","currentPosition","targetOffset","_ref2$pace","_ref2$offset","outRightBound","outLeftBound","resetTouchStatus","next","targetIndex","genIndicator","_this5","slot","apply","empty"],"mappings":"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","file":"js/chunk-4d1b3240.19c25334.js","sourcesContent":["// Utils\nimport { createNamespace } from '../utils';\nimport { range } from '../utils/format/number';\nimport { on, preventDefault } from '../utils/dom/event'; // Mixins\n\nimport { PopupMixin } from '../mixins/popup';\nimport { TouchMixin } from '../mixins/touch'; // Components\n\nimport Image from '../image';\nimport Swipe from '../swipe';\nimport Loading from '../loading';\nimport SwipeItem from '../swipe-item';\n\nvar _createNamespace = createNamespace('image-preview'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction getDistance(touches) {\n  return Math.sqrt(Math.pow(touches[0].clientX - touches[1].clientX, 2) + Math.pow(touches[0].clientY - touches[1].clientY, 2));\n}\n\nexport default createComponent({\n  mixins: [PopupMixin({\n    skipToggleEvent: true\n  }), TouchMixin],\n  props: {\n    className: null,\n    lazyLoad: Boolean,\n    asyncClose: Boolean,\n    showIndicators: Boolean,\n    images: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    swipeDuration: {\n      type: [Number, String],\n      default: 500\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    showIndex: {\n      type: Boolean,\n      default: true\n    },\n    startPosition: {\n      type: [Number, String],\n      default: 0\n    },\n    minZoom: {\n      type: [Number, String],\n      default: 1 / 3\n    },\n    maxZoom: {\n      type: [Number, String],\n      default: 3\n    },\n    overlayClass: {\n      type: String,\n      default: bem('overlay')\n    }\n  },\n  data: function data() {\n    return {\n      scale: 1,\n      moveX: 0,\n      moveY: 0,\n      active: 0,\n      moving: false,\n      zooming: false,\n      doubleClickTimer: null\n    };\n  },\n  computed: {\n    imageStyle: function imageStyle() {\n      var scale = this.scale;\n      var style = {\n        transitionDuration: this.zooming || this.moving ? '0s' : '.3s'\n      };\n\n      if (scale !== 1) {\n        style.transform = \"scale3d(\" + scale + \", \" + scale + \", 1) translate(\" + this.moveX / scale + \"px, \" + this.moveY / scale + \"px)\";\n      }\n\n      return style;\n    }\n  },\n  watch: {\n    value: function value(val) {\n      var _this = this;\n\n      if (val) {\n        this.setActive(+this.startPosition);\n        this.$nextTick(function () {\n          _this.$refs.swipe.swipeTo(+_this.startPosition, {\n            immediate: true\n          });\n        });\n      } else {\n        this.$emit('close', {\n          index: this.active,\n          url: this.images[this.active]\n        });\n      }\n    },\n    startPosition: function startPosition(val) {\n      this.setActive(val);\n    },\n    shouldRender: {\n      handler: function handler(val) {\n        var _this2 = this;\n\n        if (val) {\n          this.$nextTick(function () {\n            var swipe = _this2.$refs.swipe.$el;\n            on(swipe, 'touchstart', _this2.onWrapperTouchStart);\n            on(swipe, 'touchmove', preventDefault);\n            on(swipe, 'touchend', _this2.onWrapperTouchEnd);\n            on(swipe, 'touchcancel', _this2.onWrapperTouchEnd);\n          });\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    onWrapperTouchStart: function onWrapperTouchStart() {\n      this.touchStartTime = new Date();\n    },\n    onWrapperTouchEnd: function onWrapperTouchEnd(event) {\n      var _this3 = this;\n\n      preventDefault(event);\n      var deltaTime = new Date() - this.touchStartTime;\n\n      var _ref = this.$refs.swipe || {},\n          _ref$offsetX = _ref.offsetX,\n          offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n          _ref$offsetY = _ref.offsetY,\n          offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY; // prevent long tap to close component\n\n\n      if (deltaTime < 300 && offsetX < 10 && offsetY < 10) {\n        if (!this.doubleClickTimer) {\n          this.doubleClickTimer = setTimeout(function () {\n            if (!_this3.asyncClose) {\n              _this3.$emit('input', false);\n            }\n\n            _this3.doubleClickTimer = null;\n          }, 300);\n        } else {\n          clearTimeout(this.doubleClickTimer);\n          this.doubleClickTimer = null;\n          this.toggleScale();\n        }\n      }\n    },\n    startMove: function startMove(event) {\n      var image = event.currentTarget;\n      var rect = image.getBoundingClientRect();\n      var winWidth = window.innerWidth;\n      var winHeight = window.innerHeight;\n      this.touchStart(event);\n      this.moving = true;\n      this.startMoveX = this.moveX;\n      this.startMoveY = this.moveY;\n      this.maxMoveX = Math.max(0, (rect.width - winWidth) / 2);\n      this.maxMoveY = Math.max(0, (rect.height - winHeight) / 2);\n    },\n    startZoom: function startZoom(event) {\n      this.moving = false;\n      this.zooming = true;\n      this.startScale = this.scale;\n      this.startDistance = getDistance(event.touches);\n    },\n    onImageTouchStart: function onImageTouchStart(event) {\n      var touches = event.touches;\n\n      var _ref2 = this.$refs.swipe || {},\n          _ref2$offsetX = _ref2.offsetX,\n          offsetX = _ref2$offsetX === void 0 ? 0 : _ref2$offsetX;\n\n      if (touches.length === 1 && this.scale !== 1) {\n        this.startMove(event);\n      }\n      /* istanbul ignore else */\n      else if (touches.length === 2 && !offsetX) {\n          this.startZoom(event);\n        }\n    },\n    onImageTouchMove: function onImageTouchMove(event) {\n      var touches = event.touches;\n\n      if (this.moving || this.zooming) {\n        preventDefault(event, true);\n      }\n\n      if (this.moving) {\n        this.touchMove(event);\n        var moveX = this.deltaX + this.startMoveX;\n        var moveY = this.deltaY + this.startMoveY;\n        this.moveX = range(moveX, -this.maxMoveX, this.maxMoveX);\n        this.moveY = range(moveY, -this.maxMoveY, this.maxMoveY);\n      }\n\n      if (this.zooming && touches.length === 2) {\n        var distance = getDistance(touches);\n        var scale = this.startScale * distance / this.startDistance;\n        this.setScale(scale);\n      }\n    },\n    onImageTouchEnd: function onImageTouchEnd(event) {\n      /* istanbul ignore else */\n      if (this.moving || this.zooming) {\n        var stopPropagation = true;\n\n        if (this.moving && this.startMoveX === this.moveX && this.startMoveY === this.moveY) {\n          stopPropagation = false;\n        }\n\n        if (!event.touches.length) {\n          this.moving = false;\n          this.zooming = false;\n          this.startMoveX = 0;\n          this.startMoveY = 0;\n          this.startScale = 1;\n\n          if (this.scale < 1) {\n            this.resetScale();\n          }\n        }\n\n        if (stopPropagation) {\n          preventDefault(event, true);\n        }\n      }\n    },\n    setActive: function setActive(active) {\n      this.resetScale();\n\n      if (active !== this.active) {\n        this.active = active;\n        this.$emit('change', active);\n      }\n    },\n    setScale: function setScale(scale) {\n      this.scale = range(scale, +this.minZoom, +this.maxZoom);\n    },\n    resetScale: function resetScale() {\n      this.setScale(1);\n      this.moveX = 0;\n      this.moveY = 0;\n    },\n    toggleScale: function toggleScale() {\n      var scale = this.scale > 1 ? 1 : 2;\n      this.setScale(scale);\n      this.moveX = 0;\n      this.moveY = 0;\n    },\n    genIndex: function genIndex() {\n      var h = this.$createElement;\n\n      if (this.showIndex) {\n        return h(\"div\", {\n          \"class\": bem('index')\n        }, [this.slots('index') || this.active + 1 + \" / \" + this.images.length]);\n      }\n    },\n    genCover: function genCover() {\n      var h = this.$createElement;\n      var cover = this.slots('cover');\n\n      if (cover) {\n        return h(\"div\", {\n          \"class\": bem('cover')\n        }, [cover]);\n      }\n    },\n    genImages: function genImages() {\n      var _this4 = this;\n\n      var h = this.$createElement;\n      var imageSlots = {\n        loading: function loading() {\n          return h(Loading, {\n            \"attrs\": {\n              \"type\": \"spinner\"\n            }\n          });\n        }\n      };\n      return h(Swipe, {\n        \"ref\": \"swipe\",\n        \"attrs\": {\n          \"loop\": this.loop,\n          \"indicatorColor\": \"white\",\n          \"duration\": this.swipeDuration,\n          \"initialSwipe\": this.startPosition,\n          \"showIndicators\": this.showIndicators\n        },\n        \"class\": bem('swipe'),\n        \"on\": {\n          \"change\": this.setActive\n        }\n      }, [this.images.map(function (image, index) {\n        return h(SwipeItem, [h(Image, {\n          \"attrs\": {\n            \"src\": image,\n            \"fit\": \"contain\",\n            \"lazyLoad\": _this4.lazyLoad\n          },\n          \"class\": bem('image'),\n          \"scopedSlots\": imageSlots,\n          \"style\": index === _this4.active ? _this4.imageStyle : null,\n          \"nativeOn\": {\n            \"touchstart\": _this4.onImageTouchStart,\n            \"touchmove\": _this4.onImageTouchMove,\n            \"touchend\": _this4.onImageTouchEnd,\n            \"touchcancel\": _this4.onImageTouchEnd\n          }\n        })]);\n      })]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n\n    if (!this.shouldRender) {\n      return;\n    }\n\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": \"van-fade\"\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"class\": [bem(), this.className]\n    }, [this.genImages(), this.genIndex(), this.genCover()])]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueImagePreview from './ImagePreview';\nimport { isServer } from '../utils';\nvar instance;\nvar defaultConfig = {\n  loop: true,\n  images: [],\n  value: true,\n  minZoom: 1 / 3,\n  maxZoom: 3,\n  className: '',\n  onClose: null,\n  onChange: null,\n  lazyLoad: false,\n  showIndex: true,\n  asyncClose: false,\n  startPosition: 0,\n  swipeDuration: 500,\n  showIndicators: false,\n  closeOnPopstate: false\n};\n\nvar initInstance = function initInstance() {\n  instance = new (Vue.extend(VueImagePreview))({\n    el: document.createElement('div')\n  });\n  document.body.appendChild(instance.$el);\n  instance.$on('change', function (index) {\n    if (instance.onChange) {\n      instance.onChange(index);\n    }\n  });\n};\n\nvar ImagePreview = function ImagePreview(images, startPosition) {\n  if (startPosition === void 0) {\n    startPosition = 0;\n  }\n\n  /* istanbul ignore if */\n  if (isServer) {\n    return;\n  }\n\n  if (!instance) {\n    initInstance();\n  }\n\n  var options = Array.isArray(images) ? {\n    images: images,\n    startPosition: startPosition\n  } : images;\n\n  _extends(instance, defaultConfig, options);\n\n  instance.$once('input', function (show) {\n    instance.value = show;\n  });\n\n  if (options.onClose) {\n    instance.$off('close');\n    instance.$once('close', options.onClose);\n  }\n\n  return instance;\n};\n\nImagePreview.install = function () {\n  Vue.use(VueImagePreview);\n};\n\nexport default ImagePreview;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createNamespace } from '../utils';\n\nvar _createNamespace = createNamespace('swipe-item'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  data: function data() {\n    return {\n      offset: 0\n    };\n  },\n  beforeCreate: function beforeCreate() {\n    this.$parent.swipes.push(this);\n  },\n  destroyed: function destroyed() {\n    this.$parent.swipes.splice(this.$parent.swipes.indexOf(this), 1);\n  },\n  render: function render() {\n    var h = arguments[0];\n    var _this$$parent = this.$parent,\n        vertical = _this$$parent.vertical,\n        computedWidth = _this$$parent.computedWidth,\n        computedHeight = _this$$parent.computedHeight;\n    var style = {\n      width: computedWidth + 'px',\n      height: vertical ? computedHeight + 'px' : '100%',\n      transform: \"translate\" + (vertical ? 'Y' : 'X') + \"(\" + this.offset + \"px)\"\n    };\n    return h(\"div\", {\n      \"class\": bem(),\n      \"style\": style,\n      \"on\": _extends({}, this.$listeners)\n    }, [this.slots()]);\n  }\n});","import '../../style/base.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../index.css';","import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace, isDef, addUnit } from '../utils';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('image'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    src: String,\n    fit: String,\n    alt: String,\n    round: Boolean,\n    width: [Number, String],\n    height: [Number, String],\n    radius: [Number, String],\n    lazyLoad: Boolean,\n    showError: {\n      type: Boolean,\n      default: true\n    },\n    showLoading: {\n      type: Boolean,\n      default: true\n    },\n    errorIcon: {\n      type: String,\n      default: 'warning-o'\n    },\n    loadingIcon: {\n      type: String,\n      default: 'photo-o'\n    }\n  },\n  data: function data() {\n    return {\n      loading: true,\n      error: false\n    };\n  },\n  watch: {\n    src: function src() {\n      this.loading = true;\n      this.error = false;\n    }\n  },\n  computed: {\n    style: function style() {\n      var style = {};\n\n      if (isDef(this.width)) {\n        style.width = addUnit(this.width);\n      }\n\n      if (isDef(this.height)) {\n        style.height = addUnit(this.height);\n      }\n\n      if (isDef(this.radius)) {\n        style.overflow = 'hidden';\n        style.borderRadius = addUnit(this.radius);\n      }\n\n      return style;\n    }\n  },\n  created: function created() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload) {\n      $Lazyload.$on('loaded', this.onLazyLoaded);\n      $Lazyload.$on('error', this.onLazyLoadError);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload) {\n      $Lazyload.$off('loaded', this.onLazyLoaded);\n      $Lazyload.$off('error', this.onLazyLoadError);\n    }\n  },\n  methods: {\n    onLoad: function onLoad(event) {\n      this.loading = false;\n      this.$emit('load', event);\n    },\n    onLazyLoaded: function onLazyLoaded(_ref) {\n      var el = _ref.el;\n\n      if (el === this.$refs.image && this.loading) {\n        this.onLoad();\n      }\n    },\n    onLazyLoadError: function onLazyLoadError(_ref2) {\n      var el = _ref2.el;\n\n      if (el === this.$refs.image && !this.error) {\n        this.onError();\n      }\n    },\n    onError: function onError(event) {\n      this.error = true;\n      this.loading = false;\n      this.$emit('error', event);\n    },\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    },\n    genPlaceholder: function genPlaceholder() {\n      var h = this.$createElement;\n\n      if (this.loading && this.showLoading) {\n        return h(\"div\", {\n          \"class\": bem('loading')\n        }, [this.slots('loading') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.loadingIcon\n          },\n          \"class\": bem('loading-icon')\n        })]);\n      }\n\n      if (this.error && this.showError) {\n        return h(\"div\", {\n          \"class\": bem('error')\n        }, [this.slots('error') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.errorIcon\n          },\n          \"class\": bem('error-icon')\n        })]);\n      }\n    },\n    genImage: function genImage() {\n      var h = this.$createElement;\n      var imgData = {\n        class: bem('img'),\n        attrs: {\n          alt: this.alt\n        },\n        style: {\n          objectFit: this.fit\n        }\n      };\n\n      if (this.error) {\n        return;\n      }\n\n      if (this.lazyLoad) {\n        return h(\"img\", _mergeJSXProps([{\n          \"ref\": \"image\",\n          \"directives\": [{\n            name: \"lazy\",\n            value: this.src\n          }]\n        }, imgData]));\n      }\n\n      return h(\"img\", _mergeJSXProps2([{\n        \"attrs\": {\n          \"src\": this.src\n        },\n        \"on\": {\n          \"load\": this.onLoad,\n          \"error\": this.onError\n        }\n      }, imgData]));\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem({\n        round: this.round\n      }),\n      \"style\": this.style,\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genImage(), this.genPlaceholder()]);\n  }\n});","/**\n * requestAnimationFrame polyfill\n */\nimport { isServer } from '..';\nvar prev = Date.now();\n/* istanbul ignore next */\n\nfunction fallback(fn) {\n  var curr = Date.now();\n  var ms = Math.max(0, 16 - (curr - prev));\n  var id = setTimeout(fn, ms);\n  prev = curr + ms;\n  return id;\n}\n/* istanbul ignore next */\n\n\nvar root = isServer ? global : window;\n/* istanbul ignore next */\n\nvar iRaf = root.requestAnimationFrame || fallback;\n/* istanbul ignore next */\n\nvar iCancel = root.cancelAnimationFrame || root.clearTimeout;\nexport function raf(fn) {\n  return iRaf.call(root, fn);\n} // double raf for animation\n\nexport function doubleRaf(fn) {\n  raf(function () {\n    raf(fn);\n  });\n}\nexport function cancelRaf(id) {\n  iCancel.call(root, id);\n}","import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../image/index.css';\nimport '../../popup/index.css';\nimport '../../loading/index.css';\nimport '../../swipe/index.css';\nimport '../../swipe-item/index.css';\nimport '../index.css';","export function range(num, min, max) {\n  return Math.min(Math.max(num, min), max);\n}","// Utils\nimport { createNamespace } from '../utils';\nimport { preventDefault } from '../utils/dom/event';\nimport { doubleRaf } from '../utils/dom/raf';\nimport { range } from '../utils/format/number'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nvar _createNamespace = createNamespace('swipe'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [TouchMixin, BindEventMixin(function (bind, isBind) {\n    bind(window, 'resize', this.resize, true);\n    bind(window, 'visibilitychange', this.onVisibilityChange);\n\n    if (isBind) {\n      this.initialize();\n    } else {\n      this.clear();\n    }\n  })],\n  props: {\n    width: [Number, String],\n    height: [Number, String],\n    autoplay: [Number, String],\n    vertical: Boolean,\n    indicatorColor: String,\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: [Number, String],\n      default: 500\n    },\n    touchable: {\n      type: Boolean,\n      default: true\n    },\n    initialSwipe: {\n      type: [Number, String],\n      default: 0\n    },\n    showIndicators: {\n      type: Boolean,\n      default: true\n    },\n    stopPropagation: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      computedWidth: 0,\n      computedHeight: 0,\n      offset: 0,\n      active: 0,\n      deltaX: 0,\n      deltaY: 0,\n      swipes: [],\n      swiping: false\n    };\n  },\n  watch: {\n    swipes: function swipes() {\n      this.initialize();\n    },\n    initialSwipe: function initialSwipe() {\n      this.initialize();\n    },\n    autoplay: function autoplay(_autoplay) {\n      if (_autoplay > 0) {\n        this.autoPlay();\n      } else {\n        this.clear();\n      }\n    }\n  },\n  computed: {\n    count: function count() {\n      return this.swipes.length;\n    },\n    delta: function delta() {\n      return this.vertical ? this.deltaY : this.deltaX;\n    },\n    size: function size() {\n      return this[this.vertical ? 'computedHeight' : 'computedWidth'];\n    },\n    trackSize: function trackSize() {\n      return this.count * this.size;\n    },\n    activeIndicator: function activeIndicator() {\n      return (this.active + this.count) % this.count;\n    },\n    isCorrectDirection: function isCorrectDirection() {\n      var expect = this.vertical ? 'vertical' : 'horizontal';\n      return this.direction === expect;\n    },\n    trackStyle: function trackStyle() {\n      var _ref;\n\n      var mainAxis = this.vertical ? 'height' : 'width';\n      var crossAxis = this.vertical ? 'width' : 'height';\n      return _ref = {}, _ref[mainAxis] = this.trackSize + \"px\", _ref[crossAxis] = this[crossAxis] ? this[crossAxis] + \"px\" : '', _ref.transitionDuration = (this.swiping ? 0 : this.duration) + \"ms\", _ref.transform = \"translate\" + (this.vertical ? 'Y' : 'X') + \"(\" + this.offset + \"px)\", _ref;\n    },\n    indicatorStyle: function indicatorStyle() {\n      return {\n        backgroundColor: this.indicatorColor\n      };\n    },\n    minOffset: function minOffset() {\n      var rect = this.$el.getBoundingClientRect();\n      return (this.vertical ? rect.height : rect.width) - this.size * this.count;\n    }\n  },\n  mounted: function mounted() {\n    this.bindTouchEvent(this.$refs.track);\n  },\n  methods: {\n    // initialize swipe position\n    initialize: function initialize(active) {\n      if (active === void 0) {\n        active = +this.initialSwipe;\n      }\n\n      clearTimeout(this.timer);\n\n      if (this.$el) {\n        var rect = this.$el.getBoundingClientRect();\n        this.computedWidth = +this.width || rect.width;\n        this.computedHeight = +this.height || rect.height;\n      }\n\n      this.swiping = true;\n      this.active = active;\n      this.offset = this.count > 1 ? -this.size * this.active : 0;\n      this.swipes.forEach(function (swipe) {\n        swipe.offset = 0;\n      });\n      this.autoPlay();\n    },\n    // @exposed-api\n    resize: function resize() {\n      this.initialize(this.activeIndicator);\n    },\n    onVisibilityChange: function onVisibilityChange() {\n      if (document.hidden) {\n        this.clear();\n      } else {\n        this.autoPlay();\n      }\n    },\n    onTouchStart: function onTouchStart(event) {\n      if (!this.touchable) return;\n      this.clear();\n      this.touchStart(event);\n      this.correctPosition();\n    },\n    onTouchMove: function onTouchMove(event) {\n      if (!this.touchable || !this.swiping) return;\n      this.touchMove(event);\n\n      if (this.isCorrectDirection) {\n        preventDefault(event, this.stopPropagation);\n        this.move({\n          offset: this.delta\n        });\n      }\n    },\n    onTouchEnd: function onTouchEnd() {\n      if (!this.touchable || !this.swiping) return;\n\n      if (this.delta && this.isCorrectDirection) {\n        var offset = this.vertical ? this.offsetY : this.offsetX;\n        this.move({\n          pace: offset > 0 ? this.delta > 0 ? -1 : 1 : 0,\n          emitChange: true\n        });\n      }\n\n      this.swiping = false;\n      this.autoPlay();\n    },\n    getTargetActive: function getTargetActive(pace) {\n      var active = this.active,\n          count = this.count;\n\n      if (pace) {\n        if (this.loop) {\n          return range(active + pace, -1, count);\n        }\n\n        return range(active + pace, 0, count - 1);\n      }\n\n      return active;\n    },\n    getTargetOffset: function getTargetOffset(targetActive, offset) {\n      var currentPosition = targetActive * this.size;\n\n      if (!this.loop) {\n        currentPosition = Math.min(currentPosition, -this.minOffset);\n      }\n\n      var targetOffset = Math.round(offset - currentPosition);\n\n      if (!this.loop) {\n        targetOffset = range(targetOffset, this.minOffset, 0);\n      }\n\n      return targetOffset;\n    },\n    move: function move(_ref2) {\n      var _ref2$pace = _ref2.pace,\n          pace = _ref2$pace === void 0 ? 0 : _ref2$pace,\n          _ref2$offset = _ref2.offset,\n          offset = _ref2$offset === void 0 ? 0 : _ref2$offset,\n          emitChange = _ref2.emitChange;\n      var loop = this.loop,\n          count = this.count,\n          active = this.active,\n          swipes = this.swipes,\n          trackSize = this.trackSize,\n          minOffset = this.minOffset;\n\n      if (count <= 1) {\n        return;\n      }\n\n      var targetActive = this.getTargetActive(pace);\n      var targetOffset = this.getTargetOffset(targetActive, offset); // auto move first and last swipe in loop mode\n\n      if (loop) {\n        if (swipes[0]) {\n          var outRightBound = targetOffset < minOffset;\n          swipes[0].offset = outRightBound ? trackSize : 0;\n        }\n\n        if (swipes[count - 1]) {\n          var outLeftBound = targetOffset > 0;\n          swipes[count - 1].offset = outLeftBound ? -trackSize : 0;\n        }\n      }\n\n      this.active = targetActive;\n      this.offset = targetOffset;\n\n      if (emitChange && targetActive !== active) {\n        this.$emit('change', this.activeIndicator);\n      }\n    },\n    // @exposed-api\n    prev: function prev() {\n      var _this = this;\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        _this.swiping = false;\n\n        _this.move({\n          pace: -1,\n          emitChange: true\n        });\n      });\n    },\n    // @exposed-api\n    next: function next() {\n      var _this2 = this;\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        _this2.swiping = false;\n\n        _this2.move({\n          pace: 1,\n          emitChange: true\n        });\n      });\n    },\n    // @exposed-api\n    swipeTo: function swipeTo(index, options) {\n      var _this3 = this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        var targetIndex;\n\n        if (_this3.loop && index === _this3.count) {\n          targetIndex = _this3.active === 0 ? 0 : index;\n        } else {\n          targetIndex = index % _this3.count;\n        }\n\n        if (options.immediate) {\n          doubleRaf(function () {\n            _this3.swiping = false;\n          });\n        } else {\n          _this3.swiping = false;\n        }\n\n        _this3.move({\n          pace: targetIndex - _this3.active,\n          emitChange: true\n        });\n      });\n    },\n    correctPosition: function correctPosition() {\n      this.swiping = true;\n\n      if (this.active <= -1) {\n        this.move({\n          pace: this.count\n        });\n      }\n\n      if (this.active >= this.count) {\n        this.move({\n          pace: -this.count\n        });\n      }\n    },\n    clear: function clear() {\n      clearTimeout(this.timer);\n    },\n    autoPlay: function autoPlay() {\n      var _this4 = this;\n\n      var autoplay = this.autoplay;\n\n      if (autoplay > 0 && this.count > 1) {\n        this.clear();\n        this.timer = setTimeout(function () {\n          _this4.next();\n\n          _this4.autoPlay();\n        }, autoplay);\n      }\n    },\n    genIndicator: function genIndicator() {\n      var _this5 = this;\n\n      var h = this.$createElement;\n      var count = this.count,\n          activeIndicator = this.activeIndicator;\n      var slot = this.slots('indicator');\n\n      if (slot) {\n        return slot;\n      }\n\n      if (this.showIndicators && count > 1) {\n        return h(\"div\", {\n          \"class\": bem('indicators', {\n            vertical: this.vertical\n          })\n        }, [Array.apply(void 0, Array(count)).map(function (empty, index) {\n          return h(\"i\", {\n            \"class\": bem('indicator', {\n              active: index === activeIndicator\n            }),\n            \"style\": index === activeIndicator ? _this5.indicatorStyle : null\n          });\n        })]);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"ref\": \"track\",\n      \"style\": this.trackStyle,\n      \"class\": bem('track')\n    }, [this.slots()]), this.genIndicator()]);\n  }\n});"],"sourceRoot":""}